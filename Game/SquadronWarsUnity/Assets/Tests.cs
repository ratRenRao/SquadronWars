using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Assets.Data;
using Assets.GameClasses;
using Action = Assets.GameClasses.Action;

namespace Assets
{
    class Tests
    {
        public void Run()
        {
           // CheckJsonPostData();
           CheckEffectExecution();
        }

        public void CheckJsonPostData()
        {
            
            string json =
                //"{\"GameInfo\":{\"gameID\":\"14\",\"player1Id\":\"9\",\"player2Id\":\"17\",\"GameJSON\":{\"ActionOrder\":{\"0\":{\"actionType\":\"Move\",\"performedAction\":\"test Action\",\"actionTiles\":{\"0\":{\"x\":\"1\",\"y\":\"1\"}}}},\"CharacterQueue\":{\"0\":1,\"1\":2},\"AffectedTiles\":{\"0\":{\"Tile\":{\"x\":\"1\",\"y\":\"1\"},\"Amount\":1}}},\"CreateTime\":\"2016-02-26 23:02:54\",\"ModifyTime\":\"2016-03-17 06:36:20\",\"Finished\":\"\u0000\",\"character1Info\":\"{\"0\":{\"CharacterId\":\"1\",\"LevelId\":\"1\",\"Name\":\"lancelot\",\"SpriteId\":\"1\",\"X\":\"0\",\"Y\":\"0\",\"BaseStats\":{\"Str\":7,\"Agi\":6,\"Intl\":6,\"Vit\":6,\"Wis\":6,\"Dex\":6,\"Luck\":6,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":18,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":7,\"Agi\":6,\"Intl\":6,\"Vit\":6,\"Wis\":6,\"Dex\":6,\"Luck\":6,\"HitPoints\":79,\"Dmg\":56,\"MagicAttack\":55,\"Speed\":5,\"Defense\":45,\"MagicDefense\":39,\"HitRate\":100,\"DodgeRate\":88,\"CritRate\":55,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":1,\"Chest\":1000,\"Gloves\":3000,\"Pants\":2000,\"Shoulders\":4000,\"Boots\":5000,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":{\"0\":{\"Name\":\"Fire\",\"AbilityId\":1,\"AbilityLevel\":1,\"CharacterId\":1},\"1\":{\"Name\":\"Cure\",\"AbilityId\":2,\"AbilityLevel\":1,\"CharacterId\":1}}},\"1\":{\"CharacterId\":\"2\",\"LevelId\":\"1\",\"Name\":\"Arthur\",\"SpriteId\":\"2\",\"X\":\"0\",\"Y\":\"0\",\"BaseStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":25,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":17,\"Dmg\":10,\"MagicAttack\":10,\"Speed\":5,\"Defense\":9,\"MagicDefense\":9,\"HitRate\":60,\"DodgeRate\":58,\"CritRate\":37,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":1,\"Chest\":1000,\"Gloves\":3000,\"Pants\":2000,\"Shoulders\":4000,\"Boots\":0,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":{\"0\":{\"Name\":\"Fire\",\"AbilityId\":1,\"AbilityLevel\":1,\"CharacterId\":2},\"1\":{\"Name\":\"Cure\",\"AbilityId\":2,\"AbilityLevel\":1,\"CharacterId\":2}}},\"2\":{\"CharacterId\":\"4\",\"LevelId\":\"1\",\"Name\":\"Pat\",\"SpriteId\":\"3\",\"X\":\"0\",\"Y\":\"0\",\"BaseStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":25,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":17,\"Dmg\":10,\"MagicAttack\":10,\"Speed\":5,\"Defense\":9,\"MagicDefense\":9,\"HitRate\":60,\"DodgeRate\":58,\"CritRate\":37,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":0,\"Chest\":0,\"Gloves\":0,\"Pants\":0,\"Shoulders\":0,\"Boots\":0,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":{}},\"3\":{\"CharacterId\":\"5\",\"LevelId\":\"1\",\"Name\":\"Kelly\",\"SpriteId\":\"4\",\"X\":\"0\",\"Y\":\"0\",\"BaseStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":25,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":17,\"Dmg\":10,\"MagicAttack\":10,\"Speed\":5,\"Defense\":9,\"MagicDefense\":9,\"HitRate\":60,\"DodgeRate\":58,\"CritRate\":37,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":0,\"Chest\":0,\"Gloves\":0,\"Pants\":0,\"Shoulders\":0,\"Boots\":0,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":{}},\"4\":{\"CharacterId\":\"14\",\"LevelId\":\"1\",\"Name\":\"Quenavier\",\"SpriteId\":\"1\",\"X\":\"0\",\"Y\":\"0\",\"BaseStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":25,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":17,\"Dmg\":10,\"MagicAttack\":10,\"Speed\":5,\"Defense\":9,\"MagicDefense\":9,\"HitRate\":60,\"DodgeRate\":58,\"CritRate\":37,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":0,\"Chest\":0,\"Gloves\":0,\"Pants\":0,\"Shoulders\":0,\"Boots\":0,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":{}},\"5\":{\"CharacterId\":\"15\",\"LevelId\":\"1\",\"Name\":\"Johnny Boy\",\"SpriteId\":\"1\",\"X\":\"0\",\"Y\":\"0\",\"BaseStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":25,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":1,\"Agi\":1,\"Intl\":1,\"Vit\":1,\"Wis\":1,\"Dex\":1,\"Luck\":0,\"HitPoints\":17,\"Dmg\":10,\"MagicAttack\":10,\"Speed\":5,\"Defense\":9,\"MagicDefense\":9,\"HitRate\":60,\"DodgeRate\":58,\"CritRate\":37,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":0,\"Chest\":0,\"Gloves\":0,\"Pants\":0,\"Shoulders\":0,\"Boots\":0,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":{}}}\",\"character2Info\":\"testing\"}}";
                //"{\"GameInfo\":{\"gameID\":\"296\",\"player1Id\":\"9\",\"player2Id\":\"42\",\"GameJSON\":null,\"CreateTime\":\"2016-03-29 00:17:05\",\"ModifyTime\":\"2016-03-29 00:17:29\",\"Finished\":\"0\",\"character1Info\":[{\"CharacterId\":\"1\",\"LevelId\":\"1\",\"Name\":\"Lancelot\",\"SpriteId\":\"1\",\"X\":\"4\",\"Y\":\"3\",\"BaseStats\":{\"Str\":11,\"Agi\":9,\"Intl\":7,\"Vit\":9,\"Wis\":8,\"Dex\":10,\"Luck\":7,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":0,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":11,\"Agi\":9,\"Intl\":7,\"Vit\":9,\"Wis\":8,\"Dex\":10,\"Luck\":7,\"HitPoints\":117,\"Dmg\":88,\"MagicAttack\":65,\"Speed\":5,\"Defense\":67,\"MagicDefense\":50,\"HitRate\":128,\"DodgeRate\":106,\"CritRate\":58,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":1,\"Chest\":1000,\"Gloves\":3000,\"Pants\":2000,\"Shoulders\":4000,\"Boots\":5000,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":[{\"Name\":\"Fire\",\"AbilityId\":1,\"AbilityLevel\":1},{\"Name\":\"Cure\",\"AbilityId\":2,\"AbilityLevel\":1}]},{\"CharacterId\":\"2\",\"LevelId\":\"1\",\"Name\":\"Arthur\",\"SpriteId\":\"2\",\"X\":\"4\",\"Y\":\"4\",\"BaseStats\":{\"Str\":7,\"Agi\":4,\"Intl\":5,\"Vit\":5,\"Wis\":3,\"Dex\":3,\"Luck\":4,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":0,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":7,\"Agi\":4,\"Intl\":5,\"Vit\":5,\"Wis\":3,\"Dex\":3,\"Luck\":4,\"HitPoints\":69,\"Dmg\":50,\"MagicAttack\":44,\"Speed\":5,\"Defense\":39,\"MagicDefense\":23,\"HitRate\":76,\"DodgeRate\":76,\"CritRate\":49,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":1,\"Chest\":1000,\"Gloves\":3000,\"Pants\":2000,\"Shoulders\":4000,\"Boots\":0,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":[{\"Name\":\"Fire\",\"AbilityId\":1,\"AbilityLevel\":1},{\"Name\":\"Cure\",\"AbilityId\":2,\"AbilityLevel\":1}]},{\"CharacterId\":\"4\",\"LevelId\":\"1\",\"Name\":\"Pat\",\"SpriteId\":\"3\",\"X\":\"5\",\"Y\":\"4\",\"BaseStats\":{\"Str\":7,\"Agi\":6,\"Intl\":5,\"Vit\":4,\"Wis\":2,\"Dex\":3,\"Luck\":4,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":0,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":7,\"Agi\":6,\"Intl\":5,\"Vit\":4,\"Wis\":2,\"Dex\":3,\"Luck\":4,\"HitPoints\":59,\"Dmg\":50,\"MagicAttack\":43,\"Speed\":5,\"Defense\":33,\"MagicDefense\":18,\"HitRate\":74,\"DodgeRate\":88,\"CritRate\":49,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":2,\"Chest\":1001,\"Gloves\":3001,\"Pants\":2001,\"Shoulders\":4001,\"Boots\":5001,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":[]},{\"CharacterId\":\"5\",\"LevelId\":\"1\",\"Name\":\"Kelly\",\"SpriteId\":\"4\",\"X\":\"5\",\"Y\":\"3\",\"BaseStats\":{\"Str\":3,\"Agi\":4,\"Intl\":12,\"Vit\":3,\"Wis\":6,\"Dex\":1,\"Luck\":2,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":0,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":3,\"Agi\":4,\"Intl\":12,\"Vit\":3,\"Wis\":6,\"Dex\":1,\"Luck\":2,\"HitPoints\":41,\"Dmg\":22,\"MagicAttack\":103,\"Speed\":5,\"Defense\":23,\"MagicDefense\":45,\"HitRate\":70,\"DodgeRate\":76,\"CritRate\":43,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":4,\"Chest\":1003,\"Gloves\":3003,\"Pants\":2003,\"Shoulders\":4003,\"Boots\":5003,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":[]},{\"CharacterId\":\"14\",\"LevelId\":\"1\",\"Name\":\"Quenavier\",\"SpriteId\":\"1\",\"X\":\"4\",\"Y\":\"5\",\"BaseStats\":{\"Str\":7,\"Agi\":4,\"Intl\":3,\"Vit\":8,\"Wis\":3,\"Dex\":3,\"Luck\":3,\"HitPoints\":0,\"Dmg\":0,\"MagicAttack\":0,\"Speed\":0,\"Defense\":0,\"MagicDefense\":0,\"HitRate\":0,\"DodgeRate\":0,\"CritRate\":0,\"StatPoints\":0,\"SkillPoints\":1},\"CurrentStats\":{\"Str\":7,\"Agi\":4,\"Intl\":3,\"Vit\":8,\"Wis\":3,\"Dex\":3,\"Luck\":3,\"HitPoints\":99,\"Dmg\":50,\"MagicAttack\":28,\"Speed\":5,\"Defense\":57,\"MagicDefense\":21,\"HitRate\":76,\"DodgeRate\":76,\"CritRate\":46,\"StatPoints\":0,\"SkillPoints\":0},\"Equipment\":{\"Helm\":5,\"Chest\":1004,\"Gloves\":3004,\"Pants\":2004,\"Shoulders\":4004,\"Boots\":5004,\"Accessory1\":0,\"Accessory2\":0},\"Abilities\":[]}],\"character2Info\":null}}";
                //"{\"GameInfo\":{\"gameID\":\"231\",\"player1Id\":\"9\",\"player2Id\":\"33\",\"GameJSON\":null,\"CreateTime\":\"2016-03-28 03:14:17\",\"ModifyTime\":\"2016-03-28 03:14:20\",\"Finished\":\"0\",\"character1Info\":\"[{\\\"CharacterId\\\":\\\"1\\\",\\\"LevelId\\\":\\\"1\\\",\\\"Name\\\":\\\"Lancelot\\\",\\\"SpriteId\\\":\\\"1\\\",\\\"X\\\":\\\"4\\\",\\\"Y\\\":\\\"2\\\",\\\"BaseStats\\\":{\\\"Str\\\":11,\\\"Agi\\\":9,\\\"Intl\\\":7,\\\"Vit\\\":9,\\\"Wis\\\":8,\\\"Dex\\\":10,\\\"Luck\\\":7,\\\"HitPoints\\\":0,\\\"Dmg\\\":0,\\\"MagicAttack\\\":0,\\\"Speed\\\":0,\\\"Defense\\\":0,\\\"MagicDefense\\\":0,\\\"HitRate\\\":0,\\\"DodgeRate\\\":0,\\\"CritRate\\\":0,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":1},\\\"CurrentStats\\\":{\\\"Str\\\":11,\\\"Agi\\\":9,\\\"Intl\\\":7,\\\"Vit\\\":9,\\\"Wis\\\":8,\\\"Dex\\\":10,\\\"Luck\\\":7,\\\"HitPoints\\\":117,\\\"Dmg\\\":88,\\\"MagicAttack\\\":65,\\\"Speed\\\":5,\\\"Defense\\\":67,\\\"MagicDefense\\\":50,\\\"HitRate\\\":128,\\\"DodgeRate\\\":106,\\\"CritRate\\\":58,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":0},\\\"Equipment\\\":{\\\"Helm\\\":1,\\\"Chest\\\":1000,\\\"Gloves\\\":3000,\\\"Pants\\\":2000,\\\"Shoulders\\\":4000,\\\"Boots\\\":5000,\\\"Accessory1\\\":0,\\\"Accessory2\\\":0},\\\"Abilities\\\":[{\\\"Name\\\":\\\"Fire\\\",\\\"AbilityId\\\":1,\\\"AbilityLevel\\\":1},{\\\"Name\\\":\\\"Cure\\\",\\\"AbilityId\\\":2,\\\"AbilityLevel\\\":1}]},{\\\"CharacterId\\\":\\\"2\\\",\\\"LevelId\\\":\\\"1\\\",\\\"Name\\\":\\\"Arthur\\\",\\\"SpriteId\\\":\\\"2\\\",\\\"X\\\":\\\"3\\\",\\\"Y\\\":\\\"3\\\",\\\"BaseStats\\\":{\\\"Str\\\":7,\\\"Agi\\\":4,\\\"Intl\\\":5,\\\"Vit\\\":5,\\\"Wis\\\":3,\\\"Dex\\\":3,\\\"Luck\\\":4,\\\"HitPoints\\\":0,\\\"Dmg\\\":0,\\\"MagicAttack\\\":0,\\\"Speed\\\":0,\\\"Defense\\\":0,\\\"MagicDefense\\\":0,\\\"HitRate\\\":0,\\\"DodgeRate\\\":0,\\\"CritRate\\\":0,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":1},\\\"CurrentStats\\\":{\\\"Str\\\":7,\\\"Agi\\\":4,\\\"Intl\\\":5,\\\"Vit\\\":5,\\\"Wis\\\":3,\\\"Dex\\\":3,\\\"Luck\\\":4,\\\"HitPoints\\\":69,\\\"Dmg\\\":50,\\\"MagicAttack\\\":44,\\\"Speed\\\":5,\\\"Defense\\\":39,\\\"MagicDefense\\\":23,\\\"HitRate\\\":76,\\\"DodgeRate\\\":76,\\\"CritRate\\\":49,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":0},\\\"Equipment\\\":{\\\"Helm\\\":1,\\\"Chest\\\":1000,\\\"Gloves\\\":3000,\\\"Pants\\\":2000,\\\"Shoulders\\\":4000,\\\"Boots\\\":0,\\\"Accessory1\\\":0,\\\"Accessory2\\\":0},\\\"Abilities\\\":[{\\\"Name\\\":\\\"Fire\\\",\\\"AbilityId\\\":1,\\\"AbilityLevel\\\":1},{\\\"Name\\\":\\\"Cure\\\",\\\"AbilityId\\\":2,\\\"AbilityLevel\\\":1}]},{\\\"CharacterId\\\":\\\"4\\\",\\\"LevelId\\\":\\\"1\\\",\\\"Name\\\":\\\"Pat\\\",\\\"SpriteId\\\":\\\"3\\\",\\\"X\\\":\\\"3\\\",\\\"Y\\\":\\\"2\\\",\\\"BaseStats\\\":{\\\"Str\\\":7,\\\"Agi\\\":6,\\\"Intl\\\":5,\\\"Vit\\\":4,\\\"Wis\\\":2,\\\"Dex\\\":3,\\\"Luck\\\":4,\\\"HitPoints\\\":0,\\\"Dmg\\\":0,\\\"MagicAttack\\\":0,\\\"Speed\\\":0,\\\"Defense\\\":0,\\\"MagicDefense\\\":0,\\\"HitRate\\\":0,\\\"DodgeRate\\\":0,\\\"CritRate\\\":0,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":1},\\\"CurrentStats\\\":{\\\"Str\\\":7,\\\"Agi\\\":6,\\\"Intl\\\":5,\\\"Vit\\\":4,\\\"Wis\\\":2,\\\"Dex\\\":3,\\\"Luck\\\":4,\\\"HitPoints\\\":59,\\\"Dmg\\\":50,\\\"MagicAttack\\\":43,\\\"Speed\\\":5,\\\"Defense\\\":33,\\\"MagicDefense\\\":18,\\\"HitRate\\\":74,\\\"DodgeRate\\\":88,\\\"CritRate\\\":49,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":0},\\\"Equipment\\\":{\\\"Helm\\\":2,\\\"Chest\\\":1001,\\\"Gloves\\\":3001,\\\"Pants\\\":2001,\\\"Shoulders\\\":4001,\\\"Boots\\\":5001,\\\"Accessory1\\\":0,\\\"Accessory2\\\":0},\\\"Abilities\\\":[]},{\\\"CharacterId\\\":\\\"5\\\",\\\"LevelId\\\":\\\"1\\\",\\\"Name\\\":\\\"Kelly\\\",\\\"SpriteId\\\":\\\"4\\\",\\\"X\\\":\\\"4\\\",\\\"Y\\\":\\\"3\\\",\\\"BaseStats\\\":{\\\"Str\\\":3,\\\"Agi\\\":4,\\\"Intl\\\":12,\\\"Vit\\\":3,\\\"Wis\\\":6,\\\"Dex\\\":1,\\\"Luck\\\":2,\\\"HitPoints\\\":0,\\\"Dmg\\\":0,\\\"MagicAttack\\\":0,\\\"Speed\\\":0,\\\"Defense\\\":0,\\\"MagicDefense\\\":0,\\\"HitRate\\\":0,\\\"DodgeRate\\\":0,\\\"CritRate\\\":0,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":1},\\\"CurrentStats\\\":{\\\"Str\\\":3,\\\"Agi\\\":4,\\\"Intl\\\":12,\\\"Vit\\\":3,\\\"Wis\\\":6,\\\"Dex\\\":1,\\\"Luck\\\":2,\\\"HitPoints\\\":41,\\\"Dmg\\\":22,\\\"MagicAttack\\\":103,\\\"Speed\\\":5,\\\"Defense\\\":23,\\\"MagicDefense\\\":45,\\\"HitRate\\\":70,\\\"DodgeRate\\\":76,\\\"CritRate\\\":43,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":0},\\\"Equipment\\\":{\\\"Helm\\\":4,\\\"Chest\\\":1003,\\\"Gloves\\\":3003,\\\"Pants\\\":2003,\\\"Shoulders\\\":4003,\\\"Boots\\\":5003,\\\"Accessory1\\\":0,\\\"Accessory2\\\":0},\\\"Abilities\\\":[]},{\\\"CharacterId\\\":\\\"14\\\",\\\"LevelId\\\":\\\"1\\\",\\\"Name\\\":\\\"Quenavier\\\",\\\"SpriteId\\\":\\\"1\\\",\\\"X\\\":\\\"5\\\",\\\"Y\\\":\\\"5\\\",\\\"BaseStats\\\":{\\\"Str\\\":7,\\\"Agi\\\":4,\\\"Intl\\\":3,\\\"Vit\\\":8,\\\"Wis\\\":3,\\\"Dex\\\":3,\\\"Luck\\\":3,\\\"HitPoints\\\":0,\\\"Dmg\\\":0,\\\"MagicAttack\\\":0,\\\"Speed\\\":0,\\\"Defense\\\":0,\\\"MagicDefense\\\":0,\\\"HitRate\\\":0,\\\"DodgeRate\\\":0,\\\"CritRate\\\":0,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":1},\\\"CurrentStats\\\":{\\\"Str\\\":7,\\\"Agi\\\":4,\\\"Intl\\\":3,\\\"Vit\\\":8,\\\"Wis\\\":3,\\\"Dex\\\":3,\\\"Luck\\\":3,\\\"HitPoints\\\":99,\\\"Dmg\\\":50,\\\"MagicAttack\\\":28,\\\"Speed\\\":5,\\\"Defense\\\":57,\\\"MagicDefense\\\":21,\\\"HitRate\\\":76,\\\"DodgeRate\\\":76,\\\"CritRate\\\":46,\\\"StatPoints\\\":0,\\\"SkillPoints\\\":0},\\\"Equipment\\\":{\\\"Helm\\\":5,\\\"Chest\\\":1004,\\\"Gloves\\\":3004,\\\"Pants\\\":2004,\\\"Shoulders\\\":4004,\\\"Boots\\\":5004,\\\"Accessory1\\\":0,\\\"Accessory2\\\":0},\\\"Abilities\\\":[]}]\",\"character2Info\":null}}";
                //"{\"Equipment\":\"Helm\": \"0\",\"Chest\": \"1000\",\"Gloves\": \"3000\"}}";
                //"{\"Actions\":\"ActionOrder\":{\"0\":{\"actionType\":\"Move\",\"performedAction\":\"test Action\",\"actionTiles\":{\"0\":{\"x\":\"1\",\"y\":\"1\"}}}},\"CharacterQueue\":{\"0\":1,\"1\":2},\"AffectedTiles\":{\"0\":{\"Tile\":{\"x\":\"1\",\"y\":\"1\"},\"Amount\":\"1\"}";
                //"{\"GameInfo\": {\"gameID\": \"415\",\"player1Id\": \"9\",\"player2Id\": \"33\",\"BattleAction\": {\"ActionOrder\": [],\"CharacterQueue\": [\"1\", \"22\", \"2\", \"23\", \"4\", \"24\", \"5\", \"25\", \"14\", \"26\"],\"AffectedTiles\": []},\"CreateTime\": \"2016-03-30 21:02:49\",\"ModifyTime\": \"2016-03-30 21:03:18\",\"Finished\": \"u0000\"}}}";
                "{\"Action\":{\"actionType\":\"Move\",\"performedAction\":\"test Action\"}}";

        //var turnData = GlobalConstants.Utilities.BuildObjectFromJsonData<GameInfo>(json.ToString());
        GlobalConstants.GameId = 14;
            //var www = GlobalConstants._dbConnection.SendPostData(GlobalConstants.CheckGameStatusUrl, new BattlePostObject());
            //var turnData = GlobalConstants._dbConnection.PopulateObjectFromDb<GameInfo>(GlobalConstants.CheckGameStatusUrl, GlobalConstants.Player.logins);
            var gameInfo = GlobalConstants.Utilities.BuildObjectFromJsonData<GameClasses.Action>(json);
            //var gameInfo = GlobalConstants.Utilities.GetGameInfo();
        }

        public void CheckEffectExecution()
        {
            var action = new Action();
            action.performedAction = "Fire";
            var executionerStats = new Stats()
            {
                MagicAttack = 10
            };
            var targetStats = new Stats()
            {
                MagicDefense = 6,
                HitPoints = 100
            };
            var statsList = new List<Stats>() {targetStats};

//            GlobalConstants.EffectMasterList.Add(new Fireball());           
            
            action.SetEffectFromString();

            action.Effect.Initialize(ref statsList, ref executionerStats);
            action.Effect.Execute();
        }
    }
}
